<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <link th:href="@{/style.css}" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600&display=swap" rel="stylesheet">
    <title>Purchasers</title>
</head>
<body>
<nav class="navbar">
    <a href="/allTenders" class="navbar-link">All Tenders</a>
    <a href="/allSuppliers" class="navbar-link">All Suppliers</a>
    <a href="/allPurchasers" class="navbar-link">All Purchasers</a>
</nav>

<div class="container">
    <h1>All Purchasers</h1>

    <div class="table-container">
        <div id="loading" class="loading">Loading purchasers...</div>
        <table id="purchasersTable" style="display: none;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Tender ID</th>
                    <th>Source ID</th>
                    <th>SID</th>
                    <th>Name</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="purchaser : ${purchasers}" class="purchaser-row">
                    <td th:text="${purchaser.id}"></td>
                    <td th:text="${purchaser.tender_src_id}"></td>
                    <td th:text="${purchaser.sourceId}"></td>
                    <td th:text="${purchaser.sid}"></td>
                    <td th:text="${purchaser.name}"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script src="/main.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const table = document.getElementById('purchasersTable');
        const loadingElement = document.getElementById('loading');

        // Show table and hide loading after a short delay (simulating data load)
        setTimeout(() => {
            loadingElement.style.display = 'none';
            table.style.display = 'table';
            table.classList.add('fade-in');
        }, 300);

        // Add row hover effect
        const rows = document.querySelectorAll('.purchaser-row');
        rows.forEach(row => {
            row.addEventListener('mouseenter', () => {
                row.style.transition = 'background-color 0.3s ease';
            });
        });
    });
</script>
</body>
</html>